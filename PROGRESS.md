# ğŸ“Š Instagram Marketing API - ì‘ì—… ì§„í–‰ ìƒí™©

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-12-28 00:30
**í˜„ì¬ ë‹¨ê³„**: Phase 4 - ìë™í™” ìš´ì˜ ì™„ë£Œ ğŸ‰ ì „ì²´ í”„ë¡œì íŠ¸ ì™„ë£Œ!

---

## ğŸ¯ ì „ì²´ ì§„í–‰ë¥ 

```
Phase 1: ê¸°ë³¸ êµ¬ì¡° â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ… ì™„ë£Œ
Phase 2: ìœ ë£Œ ê´‘ê³  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ… ì™„ë£Œ
Phase 3: CTA/ì „í™˜  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ… ì™„ë£Œ
Phase 4: ìë™í™”    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ… ì™„ë£Œ
```

---

## âœ… Phase 1: ê¸°ë³¸ êµ¬ì¡° ë° ì„¤ì • (ì™„ë£Œ)

### ìƒì„±ëœ íŒŒì¼ ëª©ë¡

#### ğŸ“ config/ (ì„¤ì •)

| íŒŒì¼ | ì„¤ëª… | ìƒíƒœ |
|------|------|------|
| `__init__.py` | ëª¨ë“ˆ ì´ˆê¸°í™” | âœ… ì™„ë£Œ |
| `meta_credentials.py` | Meta API ì¸ì¦ ê´€ë¦¬ | âœ… ì™„ë£Œ |
| `constants.py` | ì‹œìŠ¤í…œ ìƒìˆ˜ (ì„ê³„ê°’, CTA ë“±) | âœ… ì™„ë£Œ |
| `claude_api.py` | Claude AI í´ë¼ì´ì–¸íŠ¸ | âœ… ì™„ë£Œ |

#### ğŸ“ paid/ (ìœ ë£Œ ê´‘ê³ ) - âœ… ì™„ë£Œ

| íŒŒì¼ | ì„¤ëª… | ìƒíƒœ |
|------|------|------|
| `__init__.py` | ëª¨ë“ˆ ì´ˆê¸°í™” | âœ… ì™„ë£Œ |
| `ad_multiplier.py` | ì´ë¯¸ì§€ ì¬í™œìš© ì‹œìŠ¤í…œ | âœ… ì™„ë£Œ |
| `kill_switch.py` | ìë™ ê´‘ê³  ì¤‘ë‹¨ | âœ… ì™„ë£Œ |
| `dco_optimizer.py` | DCO ìµœì í™” | âœ… ì™„ë£Œ |
| `cta_manager.py` | CTA ë²„íŠ¼ ê´€ë¦¬ | âœ… ì™„ë£Œ |

#### ğŸ“ organic/ (ë¬´ë£Œ ë§ˆì¼€íŒ…) - âœ… ì™„ë£Œ

| íŒŒì¼ | ì„¤ëª… | ìƒíƒœ |
|------|------|------|
| `__init__.py` | ëª¨ë“ˆ ì´ˆê¸°í™” | âœ… ì™„ë£Œ |
| `comment_manager.py` | ëŒ“ê¸€ ìë™ ì‘ë‹µ + AI ë¶„ì„ | âœ… ì™„ë£Œ |
| `dm_manager.py` | DM ìë™ ì‘ë‹µ + Ice Breaker | âœ… ì™„ë£Œ |
| `content_publisher.py` | ê²Œì‹œë¬¼ ë°œí–‰ | âœ… ì™„ë£Œ |
| `caption_optimizer.py` | ìº¡ì…˜ CTA ìµœì í™” | âœ… ì™„ë£Œ |
| `insights_analyzer.py` | ì¸ì‚¬ì´íŠ¸ ë¶„ì„ | âœ… ì™„ë£Œ |

#### ğŸ“ integrations/ (ì™¸ë¶€ ì—°ë™) - Phase 3 ì™„ë£Œ

| íŒŒì¼ | ì„¤ëª… | ìƒíƒœ |
|------|------|------|
| `__init__.py` | ëª¨ë“ˆ ì´ˆê¸°í™” | âœ… ì™„ë£Œ |
| `capi_server.py` | Conversions API | âœ… ì™„ë£Œ |

#### ğŸ“ utils/ (ìœ í‹¸ë¦¬í‹°)

| íŒŒì¼ | ì„¤ëª… | ìƒíƒœ |
|------|------|------|
| `__init__.py` | ëª¨ë“ˆ ì´ˆê¸°í™” | âœ… ì™„ë£Œ |
| `logger.py` | ë¡œê¹… ìœ í‹¸ë¦¬í‹° | âœ… ì™„ë£Œ |
| `slack_notifier.py` | Slack ì•Œë¦¼ | âœ… ì™„ë£Œ |

#### ğŸ“ cron/ (ìŠ¤ì¼€ì¤„ ì‘ì—…) - âœ… ì™„ë£Œ

| íŒŒì¼ | ì„¤ëª… | ìƒíƒœ |
|------|------|------|
| `__init__.py` | ëª¨ë“ˆ ì´ˆê¸°í™” | âœ… ì™„ë£Œ |
| `every_30min.py` | Kill-Switch ëª¨ë‹ˆí„°ë§ | âœ… ì™„ë£Œ |
| `hourly.py` | ëŒ“ê¸€ í´ë§ ì²´í¬ | âœ… ì™„ë£Œ |
| `daily.py` | ì¼ì¼ ì„±ê³¼ ë¦¬í¬íŠ¸ | âœ… ì™„ë£Œ |

#### ğŸ“„ ë£¨íŠ¸ íŒŒì¼

| íŒŒì¼ | ì„¤ëª… | ìƒíƒœ |
|------|------|------|
| `.env.example` | í™˜ê²½ ë³€ìˆ˜ ì˜ˆì‹œ | âœ… ì™„ë£Œ |
| `requirements.txt` | ì˜ì¡´ì„± ëª©ë¡ | âœ… ì™„ë£Œ |
| `app.py` | Flask Webhook ì„œë²„ | âœ… ì™„ë£Œ |

---

## âœ… Phase 2: ìœ ë£Œ ê´‘ê³  ì‹œìŠ¤í…œ (ì™„ë£Œ)

### êµ¬í˜„ ì™„ë£Œ

1. **ad_multiplier.py** - 1ì¥ ì´ë¯¸ì§€ â†’ 10ê°œ ê´‘ê³  ìƒì„±
   - `create_campaign()`: CBO í™œì„±í™” ìº í˜ì¸ ìƒì„±
   - `create_adset()`: íƒ€ê²ŸíŒ… ì„¤ì •ëœ AdSet ìƒì„±
   - `upload_image()`: ì´ë¯¸ì§€ ì—…ë¡œë“œ â†’ hash íšë“
   - `generate_copy_variants()`: Claude AIë¡œ ì¹´í”¼ 10ê°œ ìƒì„±
   - `create_ads_from_image()`: í•µì‹¬ ê¸°ëŠ¥ - ì¼ê´„ ê´‘ê³  ìƒì„±
   - `create_full_campaign_with_ads()`: ì „ì²´ í”Œë¡œìš° ì¼ê´„ ì²˜ë¦¬

2. **kill_switch.py** - ì €ì„±ê³¼ ê´‘ê³  ìë™ ì¤‘ë‹¨
   - `get_active_ads()`: í™œì„± ê´‘ê³  ì¡°íšŒ
   - `get_ad_insights()`: ì„±ê³¼ ì§€í‘œ ì¡°íšŒ
   - `check_ad_performance()`: 4ë‹¨ê³„ ì„±ê³¼ íŒì • (kill/scale/keep)
   - `pause_ad()`: ê´‘ê³  ì¤‘ë‹¨ + Slack ì•Œë¦¼
   - `scale_up_winner()`: ê³ ì„±ê³¼ ê´‘ê³  ì˜ˆì‚° 50% ì¦ì•¡
   - `run_monitoring_loop()`: 30ë¶„ ê°„ê²© ë¬´í•œ ëª¨ë‹ˆí„°ë§

3. **dco_optimizer.py** - Advantage+ DCO í™œìš©
   - `create_dco_campaign()`: DCO ìº í˜ì¸ ìƒì„±
   - `create_dco_adset()`: Dynamic Creative í™œì„±í™” AdSet
   - `create_asset_feed_spec()`: ë‹¤ì¤‘ ì—ì…‹ ì¡°í•© (ì´ë¯¸ì§€Ã—í—¤ë“œë¼ì¸Ã—ì„¤ëª…)
   - `create_advantage_plus_campaign()`: Advantage+ Shopping Campaign
   - `get_dco_breakdown()`: ì¡°í•©ë³„ ì„±ê³¼ ë¶„ì„
   - `create_full_dco_campaign()`: ì „ì²´ DCO í”Œë¡œìš° ì¼ê´„ ì²˜ë¦¬

4. **cta_manager.py** - CTA ë²„íŠ¼ ê´€ë¦¬
   - `get_recommended_cta()`: ì¹´í…Œê³ ë¦¬ë³„ ìµœì  CTA ì¶”ì²œ
   - `update_ad_cta()`: ê´‘ê³  CTA ë³€ê²½
   - `analyze_cta_performance()`: CTAë³„ ì„±ê³¼ ë¶„ì„
   - `create_cta_ab_test()`: CTA A/B í…ŒìŠ¤íŠ¸ ìƒì„±
   - `determine_ab_winner()`: A/B í…ŒìŠ¤íŠ¸ ìŠ¹ì ê²°ì •

---

## âœ… Phase 3: CTA ë° ì „í™˜ ìµœì í™” (ì™„ë£Œ)

### êµ¬í˜„ ì™„ë£Œ

1. **caption_optimizer.py** - ìº¡ì…˜ CTA ìµœì í™”
   - `create_cta_caption()`: CTA íƒ€ì…ë³„ ìº¡ì…˜ í…œí”Œë¦¿ ìƒì„±
   - `generate_caption_with_ai()`: Claude AIë¡œ ìº¡ì…˜ ìë™ ìƒì„±
   - `add_cta_to_existing()`: ê¸°ì¡´ ìº¡ì…˜ì— CTA ì¶”ê°€
   - `generate_hashtags()`: ê´€ë ¨ í•´ì‹œíƒœê·¸ ìƒì„±
   - `optimize_caption_length()`: ìº¡ì…˜ ê¸¸ì´ ìµœì í™”

2. **content_publisher.py** - ê²Œì‹œë¬¼ ìë™ ë°œí–‰
   - `upload_image_to_container()`: ì´ë¯¸ì§€ ì»¨í…Œì´ë„ˆ ìƒì„±
   - `upload_video_to_container()`: ë¹„ë””ì˜¤/ë¦´ìŠ¤ ì—…ë¡œë“œ
   - `upload_carousel_to_container()`: ìºëŸ¬ì…€ ìƒì„±
   - `publish_container()`: ì»¨í…Œì´ë„ˆ ë°œí–‰
   - `schedule_post()`: ì˜ˆì•½ ê²Œì‹œ
   - `get_media_insights()`: ê²Œì‹œë¬¼ ì¸ì‚¬ì´íŠ¸ ì¡°íšŒ

3. **capi_server.py** - Conversions API ì„œë²„
   - `send_page_view()`: PageView ì´ë²¤íŠ¸
   - `send_view_content()`: ViewContent ì´ë²¤íŠ¸
   - `send_add_to_cart()`: AddToCart ì´ë²¤íŠ¸
   - `send_purchase()`: Purchase ì´ë²¤íŠ¸ (í•µì‹¬)
   - `batch_send_events()`: ì´ë²¤íŠ¸ ì¼ê´„ ì „ì†¡

4. **insights_analyzer.py** - ì¸ì‚¬ì´íŠ¸ ë¶„ì„
   - `get_account_insights()`: ê³„ì • ì¸ì‚¬ì´íŠ¸ ì¡°íšŒ
   - `get_media_insights()`: ë¯¸ë””ì–´ë³„ ì„±ê³¼ ë¶„ì„
   - `get_best_performing_posts()`: ë² ìŠ¤íŠ¸ ê²Œì‹œë¬¼ ì¡°íšŒ
   - `generate_performance_report()`: ì„±ê³¼ ë¦¬í¬íŠ¸ ìƒì„±

---

## âœ… Phase 4: ìë™í™” ìš´ì˜ (ì™„ë£Œ)

### êµ¬í˜„ ì™„ë£Œ

1. **comment_manager.py** - ëŒ“ê¸€ ìë™ ì‘ë‹µ
   - `get_recent_comments()`: ìµœê·¼ ëŒ“ê¸€ ì¡°íšŒ
   - `reply_to_comment()`: ëŒ“ê¸€ ë‹µë³€ ì‘ì„±
   - `analyze_comment_intent()`: Claude AIë¡œ ì˜ë„ ë¶„ì„
   - `analyze_and_respond()`: ë¶„ì„ + ìë™ ì‘ë‹µ
   - `handle_webhook()`: Webhook ì´ë²¤íŠ¸ ì²˜ë¦¬
   - `run_polling_check()`: í´ë§ ëª¨ë“œ ì‹¤í–‰

2. **dm_manager.py** - DM ìë™ ì‘ë‹µ
   - `get_conversations()`: ëŒ€í™” ëª©ë¡ ì¡°íšŒ
   - `get_messages()`: ë©”ì‹œì§€ ì¡°íšŒ
   - `send_message()`: í…ìŠ¤íŠ¸ ë©”ì‹œì§€ ì „ì†¡
   - `send_image()`: ì´ë¯¸ì§€ ë©”ì‹œì§€ ì „ì†¡
   - `send_quick_replies()`: Quick Reply ë²„íŠ¼ ì „ì†¡
   - `setup_ice_breakers()`: Ice Breaker ì„¤ì •
   - `generate_ai_response()`: AI ìë™ ì‘ë‹µ ìƒì„±
   - `handle_dm_webhook()`: DM Webhook ì²˜ë¦¬

3. **app.py** - Flask Webhook ì„œë²„
   - `GET /webhook`: Webhook ê²€ì¦ (hub.verify_token)
   - `POST /webhook`: ì´ë²¤íŠ¸ ë¼ìš°íŒ… (comments/messages/mentions)
   - `POST /capi/purchase`: êµ¬ë§¤ ì „í™˜ ì´ë²¤íŠ¸
   - `POST /capi/event`: ì¼ë°˜ CAPI ì´ë²¤íŠ¸
   - `GET /health`: í—¬ìŠ¤ì²´í¬
   - `GET /status`: ì‹œìŠ¤í…œ ìƒíƒœ

4. **cron/every_30min.py** - Kill-Switch ëª¨ë‹ˆí„°ë§
   - `run()`: 30ë¶„ë§ˆë‹¤ ê´‘ê³  ì„±ê³¼ ì²´í¬
   - ì €ì„±ê³¼ ê´‘ê³  ìë™ ì¤‘ë‹¨ + Slack ì•Œë¦¼
   - ê³ ì„±ê³¼ ê´‘ê³  ì˜ˆì‚° ì¦ì•¡

5. **cron/hourly.py** - ëŒ“ê¸€ í´ë§ ì²´í¬
   - `CommentPollingJob`: Webhook ë°±ì—… í´ë§
   - ìŠ¤íŒ¸ í•„í„°ë§ (ì„ íŒ”/ë§íŒ”/ë¶€ì—… ë“±)
   - ë¯¸ì‘ë‹µ ëŒ“ê¸€ ìë™ ì²˜ë¦¬

6. **cron/daily.py** - ì¼ì¼ ì„±ê³¼ ë¦¬í¬íŠ¸
   - `DailyReportGenerator`: ë¦¬í¬íŠ¸ ìƒì„±ê¸°
   - ì–´ì œ vs ê·¸ì €ê»˜ ë¹„êµ ë¶„ì„
   - Top 3 ë² ìŠ¤íŠ¸ ê²Œì‹œë¬¼
   - ê´‘ê³  ì„±ê³¼ ìš”ì•½
   - Slack ë§ˆí¬ë‹¤ìš´ ë¦¬í¬íŠ¸

---

## ğŸ“‚ í˜„ì¬ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```text
instagram-marketing/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ __init__.py          âœ…
â”‚   â”œâ”€â”€ meta_credentials.py  âœ…
â”‚   â”œâ”€â”€ constants.py         âœ…
â”‚   â””â”€â”€ claude_api.py        âœ…
â”‚
â”œâ”€â”€ paid/
â”‚   â”œâ”€â”€ __init__.py          âœ…
â”‚   â”œâ”€â”€ ad_multiplier.py     âœ…
â”‚   â”œâ”€â”€ kill_switch.py       âœ…
â”‚   â”œâ”€â”€ dco_optimizer.py     âœ…
â”‚   â””â”€â”€ cta_manager.py       âœ…
â”‚
â”œâ”€â”€ organic/
â”‚   â”œâ”€â”€ __init__.py          âœ…
â”‚   â”œâ”€â”€ comment_manager.py   âœ…
â”‚   â”œâ”€â”€ dm_manager.py        âœ…
â”‚   â”œâ”€â”€ content_publisher.py âœ…
â”‚   â”œâ”€â”€ caption_optimizer.py âœ…
â”‚   â””â”€â”€ insights_analyzer.py âœ…
â”‚
â”œâ”€â”€ integrations/
â”‚   â”œâ”€â”€ __init__.py          âœ…
â”‚   â””â”€â”€ capi_server.py       âœ…
â”‚
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ __init__.py          âœ…
â”‚   â”œâ”€â”€ logger.py            âœ…
â”‚   â””â”€â”€ slack_notifier.py    âœ…
â”‚
â”œâ”€â”€ cron/
â”‚   â”œâ”€â”€ __init__.py          âœ…
â”‚   â”œâ”€â”€ every_30min.py       âœ…
â”‚   â”œâ”€â”€ hourly.py            âœ…
â”‚   â””â”€â”€ daily.py             âœ…
â”‚
â”œâ”€â”€ .env.example             âœ…
â”œâ”€â”€ requirements.txt         âœ…
â”œâ”€â”€ app.py                   âœ…
â””â”€â”€ PROGRESS.md              âœ… (í˜„ì¬ íŒŒì¼)
```

---

## ğŸ‰ í”„ë¡œì íŠ¸ ì™„ë£Œ!

### ì‹œìŠ¤í…œ ì‹œì‘ ë°©ë²•

1. **í™˜ê²½ ì„¤ì •**
   ```bash
   cp .env.example .env
   # .env íŒŒì¼ì— ì‹¤ì œ API í‚¤ ì…ë ¥
   pip install -r requirements.txt
   ```

2. **Flask ì„œë²„ ì‹¤í–‰**
   ```bash
   python app.py
   # ë˜ëŠ”
   flask run --port 5000
   ```

3. **Cron ì‘ì—… ì„¤ì •** (crontab -e)
   ```cron
   */30 * * * * cd /path/to/instagram-marketing && python -m cron.every_30min
   0 * * * * cd /path/to/instagram-marketing && python -m cron.hourly
   0 9 * * * cd /path/to/instagram-marketing && python -m cron.daily
   ```

### ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸

| ì—”ë“œí¬ì¸íŠ¸ | ë©”ì„œë“œ | ì„¤ëª… |
|-----------|--------|------|
| `/webhook` | GET | Meta Webhook ê²€ì¦ |
| `/webhook` | POST | ì´ë²¤íŠ¸ ìˆ˜ì‹  (ëŒ“ê¸€/DM/ë©˜ì…˜) |
| `/capi/purchase` | POST | êµ¬ë§¤ ì „í™˜ ì´ë²¤íŠ¸ |
| `/health` | GET | í—¬ìŠ¤ì²´í¬ |

### ì°¸ê³  ë¬¸ì„œ

- [WORK_PLAN_1_ìœ ë£Œê´‘ê³ ìë™í™”.md](./WORK_PLAN_1_ìœ ë£Œê´‘ê³ ìë™í™”.md)
- [WORK_PLAN_2_CTAë°ì „í™˜ìµœì í™”.md](./WORK_PLAN_2_CTAë°ì „í™˜ìµœì í™”.md)
- [WORK_PLAN_3_ìë™í™”ìš´ì˜.md](./WORK_PLAN_3_ìë™í™”ìš´ì˜.md)

---

## ğŸ“ ë³€ê²½ ì´ë ¥

| ë‚ ì§œ | ì‘ì—… ë‚´ìš© | ì‘ì—…ì |
|------|----------|--------|
| 2025-12-28 00:30 | Phase 4 ì™„ë£Œ: ìë™í™” ìš´ì˜ (6ê°œ ëª¨ë“ˆ) - ì „ì²´ í”„ë¡œì íŠ¸ ì™„ë£Œ | AI |
| 2025-12-27 23:00 | Phase 3 ì™„ë£Œ: CTA ë° ì „í™˜ ìµœì í™” (4ê°œ ëª¨ë“ˆ) | AI |
| 2025-12-27 22:30 | Phase 2 ì™„ë£Œ: ìœ ë£Œ ê´‘ê³  ì‹œìŠ¤í…œ (4ê°œ ëª¨ë“ˆ) | AI |
| 2025-12-27 21:25 | Phase 1 ì™„ë£Œ: ê¸°ë³¸ êµ¬ì¡° ë° ì„¤ì • íŒŒì¼ ìƒì„± | AI |
